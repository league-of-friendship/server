doctype html
html(lang='en')
  block headFull
    head
      block head
        block title
          title= title
        link(rel='stylesheet' type='text/css' href='https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css')
        link(rel='icon' type='image/png' href='/assets/rd2l.png')
        script(defer src='https://use.fontawesome.com/releases/v5.0.9/js/all.js' integrity='sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl' crossorigin='anonymous')
        style(type='text/css').
          figure.hide-overflow {
            overflow: hidden;
          }
          .table.is-middle-aligned th,
          .table.is-middle-aligned td {
            vertical-align: middle;
          }
          .has-image, .has-icon {
            display: flex;
            align-items: center;
          }
          .has-image figure {
            margin-right: 0.3em;
          }
          .has-icon .icon {
            margin-right: 0.1em;
          }
          .title.has-icon .icon {
            margin-right: 0.3em;
          }
          .no-margin {
            margin-right: 0 !important;
          }
          .image.is-team-logo {
            width: 50px;
            height: 30px;
          }
          .image.is-team-logo-medium {
            width: 100px;
            height: 60px;
          }
          .image.is-hero {
            width: 400px;
          }
          .tiny-text {
            font-size: 0.6rem;
          }
          img.circle {
            border-radius: 50%;
          }
          .text-icon span {
            vertical-align: middle;
            display: inline-block;
            padding-right: 32px;
          }
          .text-icon img {
            vertical-align: middle;
            display: inline-block;
          }
          .icon-box * {
            margin: 0 0.2em;
          }
          @media screen and (max-width: 1007px) {
            .text-icon span {
              padding-right: 16px;
            }
          }
          @media screen and (max-width:768px) {
            .has-image {
              flex-direction: column;
              text-align: center;
            }
            .has-image .image.is-team-logo-medium {
              width: 250px;
              height: 150px;
              margin-bottom: 36px;
            }
          }
  block bodyFull
    body.layout-default
      block body
        block header
          section.hero
            div.hero-head
              nav.navbar
                div.navbar-brand
                  a.navbar-item(href='/')
                    span.icon
                      i.fa.fa-lg.fa-home
                  if user
                    a.is-hidden-desktop.navbar-item(href='/profile/' + user.steamId).text-icon
                      img.circle(src=user.avatar)
                  div.navbar-burger.burger(data-target='seal-menu')
                    span
                    span
                    span
                div.navbar-menu#seal-menu
                  div.navbar-start
                    a.navbar-item(href='/seasons') Seasons
                    a.navbar-item(href='/divisions') Divisions
                    a.navbar-item(href='/register') Register
                  div.navbar-end
                    if user
                      a.navbar-item.is-hidden-touch(href='/profile/' + user.steamId).text-icon
                        span= user.displayName
                        img.circle(src=user.avatar)
                      a.navbar-item(href='/logout') Log out
                    else
                      a.navbar-item(href='/auth/steam').has-icon
                        span.icon.is-small
                          i.fab.fa-steam
                        span &nbsp;Log in
        block contentFull
          section.section
            div.container.is-fullhd
              block content
        block footer
          footer.footer
            div.container.is-fullhd
              div.columns
                div.column
                  div.level
                    div.level-item
                      h5.title.is-5 Contact
                  div.level
                    div.level-item
                      ul
                        li
                          a(href='https://discord.gg/UrWDQRR' alt='Join the RD2L Discord' target='_blank') Join Discord
                        li
                          a(href='mailto:admins@rd2l.gg') Email
                        li
                          a(href='https://github.com/redditdota2league/server/issues/new') Report a bug
                        li
                          a(href='/complaint') File a complaint
                        li
                          a(href='https://www.reddit.com/r/redditdota2league/submit') Provide feedback
                div.column
                  div.level
                    div.level-item
                      h5.title.is-5 Resources
                  div.level
                    div.level-item
                      ul
                        li
                          a(href='/rules') League rules
                        li
                          a(href='/admins') League admins
                div.column
                  div.level
                    div.level-item
                      h5.title.is-5 Built using
                  div.level
                    div.level-item
                      ul
                        li
                          a(href='http://bulma.io/') Bulma
                        li
                          a(href='http://expressjs.com/') Express
                        li
                          a(href='http://passportjs.org/') Passport
                        li
                          a(href='https://github.com/seishun/node-steam') Steam for Node.js
                        li
                          a(href='https://github.com/Arcana/node-dota2') node-dota2
              div.columns
                div.column.has-text-centered
                  span.icon-box
                    a(href='https://www.twitch.tv/redditdota2league')
                      span.icon
                        i.fab.fa-lg.fa-twitch
                    a(href='https://github.com/redditdota2league/server')
                      span.icon
                        i.fab.fa-lg.fa-github
                    a(href='https://www.reddit.com/r/redditdota2league')
                      span.icon
                        i.fab.fa-lg.fa-reddit-alien
                    a(href='https://discord.gg/UrWDQRR')
                      span.icon
                        i.fab.fa-lg.fa-discord
              div.columns
                div.column.has-text-centered
                  p
                    small.
                      All product and company names are trademarks™ or
                      registered® trademarks of their respective holders. Use of
                      them does not imply any affiliation with or endorsement by
                      them.
  script(type='text/javascript').
    (function() {
      var burgers = Array.prototype.slice.call(document.querySelectorAll('.burger'), 0);
      console.dir(burgers);

      if (burgers.length > 0) {
        burgers.forEach(function (el) {
          el.addEventListener('click', function () {
            var target = document.getElementById(el.dataset.target);
            el.classList.toggle('is-active');
            target.classList.toggle('is-active');
          });
        });
      }
    })();
